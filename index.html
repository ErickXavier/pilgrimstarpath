<!doctype html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="./css/style.css" rel="stylesheet">
		<link rel="stylesheet" href="./css/materialize.min.css">
		<link rel="stylesheet" href="./css/nmsicons.css">
		
		<script src="./js/mustache.min.js"></script>
		<script src="./js/zepto.min.js"></script>	
		
		<title>PILGRIM STAR PATH</title>
	</head>
    
	<body onload="generateMap();">
		
		<nav>
			<div class="nav-wrapper blue-grey darken-1">
				<img id="atlaslogo" src="./img/atlas_logo.png" class="responsive-img"/>
				<span id="brand" class="brand-logo">PILGRIM STAR PATH <span class="chip indigo">v0.5</span></span>
			</div>
		</nav>	

		<div class="row">
			<div id="infoparent" class="col s12 m5">
				<div id="info">
					<form class="">
						<blockquote>Check your location</blockquote>
						
						<div id="inputcard" class="card card-panel blue-grey darken-1">
							<div class="card-content white-text">
								
								<div class="row nomarginrow">
									<div class="col s12 white-text flow-text">Enter your coordinates in <strong>ABCD:1234:5678:1234:5678</strong> format</div>
								</div>
								
								<div class="row">
									<div class="input-field col s12">
										<input id="userlocation" class="white-text" type="text" placeholder="Place your location here">
									</div>
								</div>
								
								<div class="row ">
									<div class="col s12 m6">
										<div class="btn" onclick="calculateLocation()">Draw Location</div>
									</div>
									<div class="col s12 m6">
										<div class="btn" onclick="galSvg.drawBHArea()">Draw B.Hole Area</div>
										<div class="progress hidden" id="bhloadingprogress">
											<div class="indeterminate"></div>
										</div>
									</div>
								</div>

								<div id="errorMessage" class="card blue-grey indigo hidden">
									<div class="card-content white-text">
										<span class="card-title">Ooops</span>
										<p id="errorMessageText"></p>
									</div>
								</div>								

								<div class="row nomarginrow">
									<div id="locationInfo" class="hidden">
										<div id="coordsvgp" class="col s12 m6">
											<svg id="coordsvg" xmlns="http://www.w3.org/2000/svg"></svg>
										</div>
										
										<div id="centerdistsvgp" class="col s12 m6">
											<svg id="centerdistsvg" xmlns="http://www.w3.org/2000/svg"></svg>
										</div>
										
										<div id="blackholeinfo" class="col s12 hidden">
											From your current location, you may arrive to <strong id="blackholecount"></strong> destinations in the galaxy.
										</div>
										
									</div>
								</div>
							</div>
						</div>

						<div id="destinationtable" class="card card-panel blue-grey darken-1" >
							<div class="card-content white-text">								
								<div class="row nomarginrow">									
									<div class="col s10">
										<div class="white-text  flow-text">Enter destinations in coordinate format</div>
									</div>
									<div class="col s2">
											<span class="btn-floating" onclick="destinationDataState.toggle();">
												<i id="showhidelabel" title="Hide list" class="icon-minus-circled"></i>
											</span>
									</div>
								</div>
								
								<div class="row nomarginrow">
									<div class="col s12">
										<textarea id="destinationlocation" class="white-text validate materialize-textarea" placeholder="Place destinations here"></textarea>
									</div>
								</div>
								
								<div class="row">
									<div class="col s12 m6">
										<div class="btn" onclick="destinationHandler.addBatch();">Add them</div>
									</div>
							
									<div class="col s12 m6">
										<div class="btn" onclick="destinationHandler.addPilgrim();">Add Pilgrim</div>
									</div>
								</div>
								
								<div class="row nomargin">								
									<div class="col s12" title="Grab from Reddit">
										<div class="btn"  onclick="destinationHandler.grabRed();">
											<i class="hide-on-small-only" class="valign">Grab from</i>
											<img src="./img/rd.svg" class="responsive-img" style="max-height:25px;"/>
										</div>
									</div>
									
									<div class="col s12 hide" id="redditbtnlist">
										<div >
											<ul class="collection" id="redditbtnlistcontent">
												<li class="btn" onclick="destinationHandler.grabRed('Last');"><div>Last known locations</div></li>
												<li class="btn" onclick="destinationHandler.grabRed('Rec');"><div>Recommended locations</div></li>
											</ul>
										</div>
									</div>
									
								</div>
								
								<div id="destinationdata">
									<div class="row nomarginrow">
										<ul class="collection black-text" id="destinationlist"></ul>
									</div>
								</div>
								
							</div>
						</div>
					</form>
					
					

				</div>
			</div>
			
			<div id="plotparent" class="col s12 m7">
				
				<div id="galmapp">
					<blockquote>Galaxy map</blockquote>					
					<div id="svgp">
						 <svg id="svgc" xmlns="http://www.w3.org/2000/svg"></svg>
					</div>
					
					<div class="chip chipcenter">Galaxy center</div>
					<div class="chip chipdestination">Destination</div>
					<div class="chip chipuser">User Location</div>
				</div>
				
				<div id="directionsmap" class="hidden">
					<div class="row">
						<div class="col s12 m6">
							<blockquote>Height map</blockquote>
							<div id="heightsvgp">
								<svg id="heightsvg" xmlns="http://www.w3.org/2000/svg"></svg>
							</div>
						</div>
						<div class="col s12 m6">
							<blockquote>Compass <span class="chip teal">ALPHA</span></blockquote>
							<div id="compassp">
								<div>Looking at the center, you have to travel, <span id="degreestxt"></span> degrees to your <span id="degreesdirtxt"></span></div>
								<svg id="compasssvg" xmlns="http://www.w3.org/2000/svg"></svg>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>	

		<script type="text/template" id="destinationtemplate">
			<li class="collection-item destinationtemplaterow" rel="{{id}}">
				<div class="row nomarginrow">
					<div class="col s10 m6 flow-text">
						<input class="destinationname flow-text" type="text" onchange="destinationHandler.updateDestName({{id}},this);" id="desttb{{id}}" value="{{name}}">
					</div>
					<div class="col s2 hide-on-med-and-up" onclick="destinationHandler.deleteDest({{id}});">
						<div class="btn-floating deletebtn">X</div>
					</div>
					<div class="col s12 m5">
						{{x}}:{{y}}:{{z}}
					</div>					
				</div>
				
				<div class="row nomarginrow">
					<div class="col s6 m6">{{distance}} ly</div>
					<div class="col s6 m5">{{jumps}} jumps</div>
					<div class="col s6 m1 hide-on-small-only">
						<div class="btn-floating deletebtn" onclick="destinationHandler.deleteDest({{id}});">X</div>
					</div>
				</div>
			</li>
		</script>
		
		<script type="text/javascript" src="./js/gdl.js"></script>
	
    </body>
</html>
