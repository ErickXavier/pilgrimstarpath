<!doctype html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="./css/style.css" rel="stylesheet">
		<link rel="stylesheet" href="./css/materialize.min.css">
		<script src="./js/mustache.min.js"></script>	
		<title>PILGRIM STAR PATH</title>
	</head>
    
	<body onload="generateMap();">

		<div id="atlascontainer">
			<img id="atlaslogo" src="./img/atlas_logo.png"/>
			<h3 id="brand">PILGRIM STAR PATH <span class="chip indigo">v0.4</span></h3>
		</div>

		<div class="row">
			<div id="infoparent" class="col s12 m5">
				<div id="info">
					<form class="">
						<blockquote>Check your location</blockquote>
						
						<div id="inputcard" class="card card-panel blue-grey darken-1">
							<div class="card-content white-text">
								
								<div class="row nomarginrow">
									<div class="col s12 white-text">Enter your coordinates in <strong>ABCD:1234:5678:1234:5678</strong> format</div>
								</div>
								
								<div class="row">
									<div class="input-field col s12">
										<input id="userlocation" class="white-text" type="text" placeholder="Place your location here">
									</div>
								</div>
								
								<div class="row ">
									<div class="col s12">
										<input type="button" class="btn" value="Draw Location" onclick="calculateLocation()">
									</div>
								</div>

								<div id="errorMessage" class="card blue-grey indigo hidden">
									<div class="card-content white-text">
										<span class="card-title">Ooops</span>
										<p id="errorMessageText"></p>
									</div>
								</div>								

								<div class="row nomarginrow">
									<div id="locationInfo" class="hidden">
										<div id="coordsvgp" class="col s12 m6">
											<svg id="coordsvg" xmlns="http://www.w3.org/2000/svg"></svg>
										</div>
										
										<div id="centerdistsvgp" class="col s12 m6">
											<svg id="centerdistsvg" xmlns="http://www.w3.org/2000/svg"></svg>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div id="destinationtable" class="card card-panel blue-grey darken-1" >
							<div class="card-content white-text">
								
								<div class="row nomarginrow">									
									<div class="col s12">
										<div class="secondary-content">
											<span class="btn teal" style="height:25px; line-height:25px;" onclick="destinationDataState.toggle();"><i id="showhidelabel">HIDE LIST</i></span>
										</div>
										<div class="white-text">Enter destinations in coordinate format:</div>
										<textarea id="destinationlocation" class="white-text validate materialize-textarea" placeholder="Place destinations here"></textarea>
									</div>
								</div>
								<div class="row nomarginrow">
										<div class="col s12">
											<input type="button" class="btn" value="Add them" onclick="destinationHandler.addBatch();"> 
											<input type="button" class="btn" value="Add Pilgrim" onclick="destinationHandler.addPilgrim();">
											<span class="btn" onclick="destinationHandler.grabRed();"> Grab from <img src="./img/rd.svg" style="height:20px"/></span>
										</div>
								</div>
								
								<div id="destinationdata">
									<div class="row nomarginrow">
										<ul class="collection black-text" id="destinationlist"></ul>
									</div>
								</div>
								
							</div>
						</div>
					</form>
					
					

				</div>
			</div>
			
			<div id="plotparent" class="col s12 m7">
				
				<div id="galmapp">
					<blockquote>Galaxy map</blockquote>					
					<div id="svgp">
						 <svg id="svgc" xmlns="http://www.w3.org/2000/svg"></svg>
					</div>
					
					<div class="chip chipcenter">Galaxy center</div>
					<div class="chip chipdestination">Destination</div>
					<div class="chip chipuser">User Location</div>
				</div>
				
				<div id="directionsmap" class="hidden">
					<div class="row">
						<div class="col s12 m6">
							<blockquote>Height map</blockquote>
							<div id="heightsvgp">
								<svg id="heightsvg" xmlns="http://www.w3.org/2000/svg"></svg>
							</div>
						</div>
						<div class="col s12 m6">
							<blockquote>Compass <span class="chip teal">ALPHA</span></blockquote>
							<div id="compassp">
								<div>Looking at the center, you have to travel, <span id="degreestxt"></span> degrees to your <span id="degreesdirtxt"></span></div>
								<svg id="compasssvg" xmlns="http://www.w3.org/2000/svg"></svg>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>	

		<script type="text/template" id="destinationtemplate">
			<li class="collection-item" rel="{{id}}">
				<div class="row nomarginrow" style="line-height:42px">
					<div class="col s12 m4">
						<input class="destinationName" type="text" onchange="destinationHandler.updateDestName({{id}},this);" id="desttb{{id}}" value="{{name}}">
					</div>
					<div class="col s12 m3 ">
						{{distance}} ly
					</div>
					<div class="col s6 m3">
						{{jumps}} jumps
					</div>
					<div class="col s6 m2">
						<div class="secondary-content">
							<input class="btn" onclick="destinationHandler.deleteDest({{id}});" type="button" value="X">
						</div>
					</div>
				</div>
			</li>
		</script>
		
		<!-- <script type="text/javascript" id="redplaceholder"></script> -->
		<script type="text/javascript" src="./js/gdl.js"></script>
	
    </body>
</html>
